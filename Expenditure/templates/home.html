<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expenditure</title>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <div class="expenditure">
        <div class="transaction-input">
            <form action="/" method="POST">
                <label>DATE:</label>
                <input type="date" name="date" required><br><br>
                <label>CATEGORY:</label>
                <select name="category" required>
                    <option value="Groceries">Groceries</option>
                    <option value="Housing">Housing</option>
                    <option value="Transportation">Transportation</option>
                    <option value="Healthcare">Healthcare</option>
                    <option value="Entertainment">Entertainment</option>
                    <option value="Education">Education</option>
                    <option value="Clothing and Apparel">Clothing and Apparel</option>
                    <option value="Personal Care">Personal Care</option>
                    <option value="Debts and Loans">Debts and Loans</option>              
                </select><br><br>
                <label>STATUS:</label>
                <select name="status" required>
                    <option value="Debited">Debited</option>
                    <option value="Credited">Credited</option>
                </select><br><br>
                <label>AMOUNT:</label>
                <input type="text" name="amount" required><br><br><br>
                <input type="submit" value="Submit"><br><br>
            </form>
        </div>

        <div class="transaction-history">
            <h2>Expenditure History</h2>
            <table>
                <tr>
                    <th>Date</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Amount</th>
                    <th>Action</th>
                </tr>
        
                {% for data in history %}
                    <tr>
                        <td>{{ data.date }}</td>
                        <td>{{ data.category }}</td>
                        <td>{{ 'Credited' if data.credited > 0 else 'Debited' }}</td>
                        <td>{{ data.credited if data.credited > 0 else data.debited }}</td>
                        <td><a href="/delete/{{ data.id }}">Delete</a></td>
                    </tr>
                {% endfor %}
                
            </table>
            <div class="totals">
                <p>Total Credited: {{ total_credited }}</p>
                <p>Total Debited: {{ total_debited }}</p>
            </div>
        </div>
    </div>
    
</body>
</html>
